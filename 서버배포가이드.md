# ğŸŒ± ìŠ¤ë§ˆíŠ¸íŒœ ì‘ë¬¼ ì„±ì¥ ë¶„ì„ ì‹œìŠ¤í…œ V11.4 ì„œë²„ ë°°í¬ ê°€ì´ë“œ

## ê°œìš”
[ìŠ¤ë§ˆíŠ¸íŒœ V11.4 "Federated Learning Integration"][[memory:7637468778320581522]] ì‹œìŠ¤í…œì„ í”„ë¡œë•ì…˜ ì„œë²„ì— ë°°í¬í•˜ê¸° ìœ„í•œ ì™„ì „í•œ ê°€ì´ë“œì…ë‹ˆë‹¤.

## ğŸ“‹ ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­

### ìµœì†Œ ìš”êµ¬ì‚¬í•­
- **OS**: Ubuntu 20.04+ / CentOS 8+ / Windows Server 2019+
- **CPU**: 4ì½”ì–´ ì´ìƒ
- **ë©”ëª¨ë¦¬**: 8GB RAM ì´ìƒ
- **ì €ì¥ê³µê°„**: 50GB ì´ìƒ (SSD ê¶Œì¥)
- **ë„¤íŠ¸ì›Œí¬**: ì¸í„°ë„· ì—°ê²° í•„ìˆ˜

### ê¶Œì¥ ìš”êµ¬ì‚¬í•­
- **OS**: Ubuntu 22.04 LTS
- **CPU**: 8ì½”ì–´ ì´ìƒ (Intel i7 ë˜ëŠ” AMD Ryzen 7)
- **ë©”ëª¨ë¦¬**: 16GB RAM ì´ìƒ
- **ì €ì¥ê³µê°„**: 100GB SSD
- **GPU**: NVIDIA GPU (AI ëª¨ë¸ ê°€ì†í™”ìš©, ì„ íƒì‚¬í•­)

## ğŸ³ Docker ê¸°ë°˜ ë°°í¬ (ê¶Œì¥)

### 1ë‹¨ê³„: Docker ì„¤ì¹˜

#### Ubuntu/Debian
```bash
# Docker ì„¤ì¹˜
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh

# Docker Compose ì„¤ì¹˜
sudo curl -L "https://github.com/docker/compose/releases/download/v2.21.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose

# ì‚¬ìš©ìë¥¼ docker ê·¸ë£¹ì— ì¶”ê°€
sudo usermod -aG docker $USER
```

#### CentOS/RHEL
```bash
# Docker ì„¤ì¹˜
sudo yum install -y yum-utils
sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
sudo yum install docker-ce docker-ce-cli containerd.io docker-compose-plugin

# Docker ì„œë¹„ìŠ¤ ì‹œì‘
sudo systemctl start docker
sudo systemctl enable docker
```

#### Windows
1. Docker Desktop for Windows ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜
2. WSL2 ë°±ì—”ë“œ í™œì„±í™”
3. ì‹œìŠ¤í…œ ì¬ì‹œì‘

### 2ë‹¨ê³„: í”„ë¡œì íŠ¸ ë°°í¬

#### Linux/macOS
```bash
# í”„ë¡œì íŠ¸ í´ë¡  (ë˜ëŠ” íŒŒì¼ ì—…ë¡œë“œ)
git clone <your-repository-url>
cd crop-growth-analysis

# ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
chmod +x deploy.sh server-management.sh
./deploy.sh
```

#### Windows
```cmd
# í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd crop-growth-analysis

# ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
deploy.bat
```

### 3ë‹¨ê³„: ì„œë¹„ìŠ¤ ê´€ë¦¬

#### ê°œë°œ í™˜ê²½ ì‹œì‘
```bash
# Linux/macOS
./server-management.sh dev

# Windows
server-management.bat dev
```

#### í”„ë¡œë•ì…˜ í™˜ê²½ ë°°í¬
```bash
# Linux/macOS
./server-management.sh deploy

# Windows
server-management.bat deploy
```

#### ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
```bash
# Linux/macOS
./server-management.sh status
./server-management.sh health

# Windows
server-management.bat status
server-management.bat health
```

## ğŸ”§ ìˆ˜ë™ ë°°í¬ (ê³ ê¸‰ ì‚¬ìš©ì)

### 1ë‹¨ê³„: Node.js ì„¤ì¹˜ (í”„ë¡ íŠ¸ì—”ë“œ)

#### Ubuntu/Debian
```bash
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs
```

#### CentOS/RHEL
```bash
curl -fsSL https://rpm.nodesource.com/setup_18.x | sudo bash -
sudo yum install -y nodejs
```

### 2ë‹¨ê³„: Python ì„¤ì¹˜ (ë°±ì—”ë“œ)

```bash
# Python 3.11 ì„¤ì¹˜
sudo apt-get update
sudo apt-get install -y python3.11 python3.11-pip python3.11-venv

# ê°€ìƒí™˜ê²½ ìƒì„±
cd backend
python3.11 -m venv venv
source venv/bin/activate  # Linux/macOS
# venv\Scripts\activate   # Windows

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt
```

### 3ë‹¨ê³„: Nginx ì„¤ì¹˜ ë° ì„¤ì •

```bash
# Nginx ì„¤ì¹˜
sudo apt-get install -y nginx

# ì„¤ì • íŒŒì¼ ë³µì‚¬
sudo cp nginx.conf /etc/nginx/sites-available/smartfarm
sudo ln -s /etc/nginx/sites-available/smartfarm /etc/nginx/sites-enabled/
sudo rm /etc/nginx/sites-enabled/default

# Nginx ì¬ì‹œì‘
sudo systemctl restart nginx
sudo systemctl enable nginx
```

### 4ë‹¨ê³„: ì„œë¹„ìŠ¤ ì‹œì‘

#### í”„ë¡ íŠ¸ì—”ë“œ (Next.js)
```bash
cd /path/to/project
npm install
npm run build
npm start  # ë˜ëŠ” PM2 ì‚¬ìš©
```

#### ë°±ì—”ë“œ (Flask + Gunicorn)
```bash
cd /path/to/project/backend
source venv/bin/activate
gunicorn --config gunicorn.conf.py run:app
```

## ğŸš€ í”„ë¡œë•ì…˜ ìµœì í™”

### 1. PM2ë¥¼ ì‚¬ìš©í•œ í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬

```bash
# PM2 ì„¤ì¹˜
npm install -g pm2

# í”„ë¡ íŠ¸ì—”ë“œ ì‹œì‘
pm2 start npm --name "smartfarm-frontend" -- start

# ë°±ì—”ë“œ ì‹œì‘
pm2 start gunicorn --name "smartfarm-backend" -- --config backend/gunicorn.conf.py backend.run:app

# ìë™ ì‹œì‘ ì„¤ì •
pm2 startup
pm2 save
```

### 2. SSL ì¸ì¦ì„œ ì„¤ì •

#### Let's Encrypt ì‚¬ìš©
```bash
# Certbot ì„¤ì¹˜
sudo apt-get install -y certbot python3-certbot-nginx

# SSL ì¸ì¦ì„œ ë°œê¸‰
sudo certbot --nginx -d yourdomain.com

# ìë™ ê°±ì‹  ì„¤ì •
sudo crontab -e
# ë‹¤ìŒ ë¼ì¸ ì¶”ê°€: 0 12 * * * /usr/bin/certbot renew --quiet
```

### 3. ë°©í™”ë²½ ì„¤ì •

```bash
# UFW ë°©í™”ë²½ ì„¤ì •
sudo ufw allow ssh
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
sudo ufw enable
```

## ğŸ“Š ëª¨ë‹ˆí„°ë§ ì„¤ì •

### Grafana + Prometheus

```bash
# ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ ì‹œì‘
./server-management.sh monitor

# ì ‘ì† ì •ë³´
# Grafana: http://localhost:3001 (admin/admin123)
# Prometheus: http://localhost:9090
```

### ë¡œê·¸ ëª¨ë‹ˆí„°ë§

```bash
# ì‹¤ì‹œê°„ ë¡œê·¸ í™•ì¸
./server-management.sh logs backend
./server-management.sh logs frontend
./server-management.sh logs nginx
```

## ğŸ” ë³´ì•ˆ ì„¤ì •

### 1. í™˜ê²½ë³€ìˆ˜ ë³´ì•ˆ
```bash
# ê°•ë ¥í•œ SECRET_KEY ìƒì„±
openssl rand -base64 32

# .env.production íŒŒì¼ ìˆ˜ì •
nano .env.production
```

### 2. íŒŒì´ì–´ì›” ì„¤ì •
```bash
# í•„ìš”í•œ í¬íŠ¸ë§Œ ê°œë°©
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
sudo ufw deny 3000/tcp  # ì§ì ‘ ì ‘ê·¼ ì°¨ë‹¨
sudo ufw deny 5000/tcp  # ì§ì ‘ ì ‘ê·¼ ì°¨ë‹¨
```

### 3. ì •ê¸° ì—…ë°ì´íŠ¸
```bash
# ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸ ìŠ¤í¬ë¦½íŠ¸
cat > /etc/cron.daily/system-update << 'EOF'
#!/bin/bash
apt-get update && apt-get upgrade -y
docker system prune -f
EOF

chmod +x /etc/cron.daily/system-update
```

## ğŸš¨ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### í¬íŠ¸ ì¶©ëŒ í•´ê²°
```bash
# í¬íŠ¸ ì‚¬ìš© ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ í™•ì¸
sudo netstat -tulpn | grep :3000
sudo netstat -tulpn | grep :5000

# í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
sudo kill -9 <PID>
```

### Docker ë¬¸ì œ í•´ê²°
```bash
# Docker ë¡œê·¸ í™•ì¸
docker-compose logs -f [service-name]

# ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘
docker-compose restart [service-name]

# ì´ë¯¸ì§€ ì¬ë¹Œë“œ
docker-compose build --no-cache [service-name]
```

### ë©”ëª¨ë¦¬ ë¶€ì¡± í•´ê²°
```bash
# ìŠ¤ì™‘ íŒŒì¼ ìƒì„± (4GB)
sudo fallocate -l 4G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile

# ì˜êµ¬ ì„¤ì •
echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab
```

## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™”

### 1. Nginx ìµœì í™”
```nginx
# /etc/nginx/nginx.conf
worker_processes auto;
worker_connections 2048;

gzip on;
gzip_types text/plain text/css application/json application/javascript;

# ìºì‹± ì„¤ì •
location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$ {
    expires 1y;
    add_header Cache-Control "public, immutable";
}
```

### 2. PostgreSQL ì„¤ì • (ì„ íƒì‚¬í•­)
```bash
# PostgreSQL ì„¤ì¹˜
sudo apt-get install -y postgresql postgresql-contrib

# ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
sudo -u postgres createdb smartfarm
sudo -u postgres createuser smartfarm_user
```

## ğŸ”„ ë°±ì—… ë° ë³µì›

### ìë™ ë°±ì—… ì„¤ì •
```bash
# ë°±ì—… ìŠ¤í¬ë¦½íŠ¸ ìƒì„±
cat > /opt/smartfarm-backup.sh << 'EOF'
#!/bin/bash
BACKUP_DIR="/opt/backups/smartfarm"
DATE=$(date +%Y%m%d_%H%M%S)

mkdir -p "$BACKUP_DIR/$DATE"

# ì• í”Œë¦¬ì¼€ì´ì…˜ íŒŒì¼ ë°±ì—…
tar -czf "$BACKUP_DIR/$DATE/app.tar.gz" /opt/smartfarm/

# Docker ë³¼ë¥¨ ë°±ì—…
docker run --rm -v smartfarm_uploads:/data -v "$BACKUP_DIR/$DATE":/backup alpine tar czf /backup/uploads.tar.gz /data

# ì˜¤ë˜ëœ ë°±ì—… ì‚­ì œ (30ì¼ ì´ìƒ)
find "$BACKUP_DIR" -type d -mtime +30 -exec rm -rf {} +
EOF

chmod +x /opt/smartfarm-backup.sh

# ë§¤ì¼ ìƒˆë²½ 2ì‹œ ë°±ì—… ì‹¤í–‰
echo "0 2 * * * /opt/smartfarm-backup.sh" | sudo crontab -
```

## ğŸ“ ì§€ì› ë° ë¬¸ì˜

### ë¡œê·¸ ìˆ˜ì§‘
ë¬¸ì œ ë°œìƒ ì‹œ ë‹¤ìŒ ì •ë³´ë¥¼ ìˆ˜ì§‘í•´ì£¼ì„¸ìš”:

```bash
# ì‹œìŠ¤í…œ ì •ë³´
uname -a
docker --version
docker-compose --version

# ì„œë¹„ìŠ¤ ìƒíƒœ
docker-compose ps
docker-compose logs --tail=100

# ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤
free -h
df -h
top -n 1
```

### ì¼ë°˜ì ì¸ ë¬¸ì œë“¤

1. **í¬íŠ¸ 3000, 5000ì´ ì´ë¯¸ ì‚¬ìš© ì¤‘**
   - ë‹¤ë¥¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œ ë˜ëŠ” í¬íŠ¸ ë³€ê²½

2. **ë©”ëª¨ë¦¬ ë¶€ì¡± ì˜¤ë¥˜**
   - ìŠ¤ì™‘ íŒŒì¼ ì¶”ê°€ ë˜ëŠ” ë©”ëª¨ë¦¬ ì—…ê·¸ë ˆì´ë“œ

3. **Docker ë¹Œë“œ ì‹¤íŒ¨**
   - ì¸í„°ë„· ì—°ê²° í™•ì¸ ë° Docker ì¬ì‹œì‘

4. **SSL ì¸ì¦ì„œ ì˜¤ë¥˜**
   - ë„ë©”ì¸ ì„¤ì • í™•ì¸ ë° Let's Encrypt ì¬ë°œê¸‰

---

**ğŸ‰ ìŠ¤ë§ˆíŠ¸íŒœ V11.4 ì—°í•©í•™ìŠµ ì‹œìŠ¤í…œì´ ì„±ê³µì ìœ¼ë¡œ ë°°í¬ë˜ì—ˆìŠµë‹ˆë‹¤!**

ì‹œìŠ¤í…œ ì ‘ì† ì£¼ì†Œ:
- **ë©”ì¸ ì„œë¹„ìŠ¤**: http://yourdomain.com (ë˜ëŠ” http://ì„œë²„IP)
- **ê´€ë¦¬ì í˜ì´ì§€**: http://yourdomain.com/admin
- **API ë¬¸ì„œ**: http://yourdomain.com/api/v1/docs
- **ëª¨ë‹ˆí„°ë§**: http://yourdomain.com:3001 