(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[739],{2244:(e,s,t)=>{Promise.resolve().then(t.bind(t,86430))},82714:(e,s,t)=>{"use strict";t.d(s,{J:()=>c});var a=t(95155),l=t(12115),n=t(72797),r=t(74466),i=t(53999);let d=(0,r.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(n.b,{ref:s,className:(0,i.cn)(d(),t),...l})});c.displayName=n.b.displayName},86430:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>T});var a=t(95155),l=t(12115),n=t(97168),r=t(88482),i=t(88145),d=t(88524),c=t(95784),o=t(89852),m=t(82714),x=t(35169),h=t(72713),u=t(33109),p=t(1482),f=t(47924),g=t(91788),j=t(69074),N=t(6874),y=t.n(N),v=t(94861),b=t(22751);let w={SAVED_ANALYSES:"crop-analysis-saved-analyses"},C=[{id:"1",plantType:"tomato",date:"2025-04-28T10:00:00",userId:"spinmoll",result:{modelId:"plant-health-basic",selectedAnalysisItems:["plantHealth","leafColor","size","leafCount","condition"],analysisData:{plantHealth:97,leafColor:{rgb:{r:70,g:130,b:50},hsv:{h:110,s:70,v:80},greenness:85,yellowing:8,browning:2},size:18,leafCount:12,condition:"우수"},condition:"우수",recommendations:["수분 공급량을 10% 증가시키세요"],date:"2025-04-28T10:00:00",plantHealth:97,growthRate:12,size:18,height:28,leafCount:12,leafSize:6}},{id:"2",plantType:"tomato",date:"2025-05-15T10:00:00",userId:"spinmoll",result:{modelId:"plantnet-basic",selectedAnalysisItems:["plantSpecies","plantHealth","diseaseDetection","confidence","leafCondition"],analysisData:{plantSpecies:"토마토",plantHealth:92,diseaseDetection:{detected:!1,confidence:85,type:"없음"},confidence:88,leafCondition:"양호"},condition:"양호",recommendations:["질소 비료를 추가 공급하는 것을 권장합니다"],date:"2025-05-15T10:00:00",plantHealth:92,growthRate:10,size:20,height:32,leafCount:14,leafSize:7}},{id:"3",plantType:"cucumber",date:"2025-05-10T10:00:00",userId:"spinmoll",result:{modelId:"tensorflow-plant-free",selectedAnalysisItems:["plantClassification","growthStage","plantHealth","maturityLevel","leafDevelopment"],analysisData:{plantClassification:"오이",growthStage:"성장기",plantHealth:88,maturityLevel:75,leafDevelopment:"양호한 발달"},condition:"양호",recommendations:["잎의 색상 변화를 지속적으로 모니터링하세요"],date:"2025-05-10T10:00:00",plantHealth:88,growthRate:15,size:22,height:35,leafCount:8,leafSize:9}}],A=[{id:"tomato",name:"토마토"},{id:"lettuce",name:"상추"},{id:"cucumber",name:"오이"},{id:"pepper",name:"고추"},{id:"strawberry",name:"딸기"},{id:"spinach",name:"시금치"}],H={"plant-health-basic":{name:"기본 식물 건강도 분석",type:"무료"},"plantnet-basic":{name:"식물 분류 기본",type:"무료"},"tensorflow-plant-free":{name:"딥러닝 식물 분류기",type:"무료"},"plantix-professional":{name:"전문 작물 진단",type:"유료",price:"$29/월"},"cropx-premium":{name:"고급 농작물 분석",type:"유료",price:"$49/월"},"agro-monitoring-pro":{name:"농업 모니터링 전문",type:"유료",price:"$19/월"},"azure-farmbeats":{name:"클라우드 농장 분석",type:"유료",price:"$89/월"},"custom-cnn":{name:"맞춤형 딥러닝",type:"학습AI"},"transfer-learning":{name:"전이 학습 모델",type:"학습AI"},"automl-vision":{name:"자동 시각 학습",type:"학습AI"},"ensemble-learning":{name:"앙상블 학습",type:"학습AI"}},D={plantHealth:"식물 건강도",leafColor:"잎 색상 분석",size:"크기",leafCount:"잎 개수",condition:"상태",plantSpecies:"식물 종류",diseaseDetection:"병해 감지",confidence:"신뢰도",leafCondition:"잎 상태",plantClassification:"식물 분류",growthStage:"성장 단계",maturityLevel:"성숙도",leafDevelopment:"잎 발달도",soilMoisture:"토양 수분",airTemperature:"기온",leafTemperature:"잎 온도",lightIntensity:"광도",diseaseClassification:"병해 분류",pestDetection:"해충 감지",nutritionDeficiency:"영양 결핍",stressLevel:"스트레스 수준",yieldPrediction:"수확량 예측",plantGrowthRate:"성장률",leafArea:"잎 면적",stemThickness:"줄기 두께",rootHealth:"뿌리 건강",floweringStage:"개화 단계",fruitDevelopment:"과실 발달",overallHealthScore:"종합 건강 점수",plantHeight:"식물 키",leafLength:"잎 길이",leafWidth:"잎 너비"};function T(){let{user:e}=(0,v.A)(),[s,t]=(0,l.useState)(""),[N,T]=(0,l.useState)("all"),[R,S]=(0,l.useState)("date-desc"),[I,k]=(0,l.useState)([]),[L,E]=(0,l.useState)([]),[z,Z]=(0,l.useState)(!0);(0,l.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem(w.SAVED_ANALYSES);if(e){let s=JSON.parse(e);E(s),console.log("분석 결과 로드됨:",s)}else E(C),console.log("기본 데이터 사용")}catch(e){console.error("분석 결과 로드 중 오류:",e),E(C)}finally{Z(!1)}})()},[]);let B=L.filter(s=>s.userId===(null==e?void 0:e.id)),F=B.filter(e=>{var t;let a="all"===N||e.plantType===N,l=(null===(t=A.find(s=>s.id===e.plantType))||void 0===t?void 0:t.name.toLowerCase().includes(s.toLowerCase()))||e.result.condition.toLowerCase().includes(s.toLowerCase());return a&&l}).sort((e,s)=>{switch(R){case"date-desc":return new Date(s.date).getTime()-new Date(e.date).getTime();case"date-asc":return new Date(e.date).getTime()-new Date(s.date).getTime();case"health-desc":return s.result.plantHealth-e.result.plantHealth;case"health-asc":return e.result.plantHealth-s.result.plantHealth;default:return 0}}),_=e=>{k(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},W=()=>{k(F.map(e=>e.id))},$=()=>{k([])},J=async()=>{if(0===I.length){alert("삭제할 분석 결과를 선택해주세요.");return}if(confirm("선택된 ".concat(I.length,"개의 분석 결과를 삭제하시겠습니까?\n삭제된 데이터는 복구할 수 없습니다.")))try{let e=(await loadAnalyses()).filter(e=>!I.includes(e.id));localStorage.setItem(w.SAVED_ANALYSES,JSON.stringify(e)),setAnalyses(e),k([]),alert("".concat(I.length,"개의 분석 결과가 삭제되었습니다."))}catch(e){console.error("삭제 중 오류 발생:",e),alert("삭제 중 오류가 발생했습니다. 다시 시도해주세요.")}},M=e=>{let{environmentData:s}=e;return s?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"환경 데이터"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"내부온도:"}),(0,a.jsxs)("span",{className:"font-medium",children:[s.innerTemperature,"\xb0C"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"외부온도:"}),(0,a.jsxs)("span",{className:"font-medium",children:[s.outerTemperature,"\xb0C"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"습도:"}),(0,a.jsxs)("span",{className:"font-medium",children:[s.innerHumidity,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"근권온도:"}),(0,a.jsxs)("span",{className:"font-medium",children:[s.rootZoneTemperature,"\xb0C"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"일사량:"}),(0,a.jsxs)("span",{className:"font-medium",children:[s.solarRadiation,"W/m\xb2"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"PH:"}),(0,a.jsx)("span",{className:"font-medium",children:s.ph})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"EC:"}),(0,a.jsxs)("span",{className:"font-medium",children:[s.ec,"dS/m"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"DO:"}),(0,a.jsxs)("span",{className:"font-medium",children:[s.dissolvedOxygen,"mg/L"]})]})]})]}):(0,a.jsx)("div",{className:"text-sm text-gray-500 italic",children:"환경 데이터 없음"})};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-50",children:[(0,a.jsx)(b.Navbar,{}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(y(),{href:"/analysis",children:(0,a.jsxs)(n.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"돌아가기"]})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-green-800 flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"h-8 w-8"}),"분석 결과 목록"]}),(0,a.jsxs)("p",{className:"text-green-600",children:[null==e?void 0:e.name,"님의 모든 분석 결과를 확인하세요"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(r.Zp,{children:(0,a.jsxs)(r.Wu,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-700",children:B.length}),(0,a.jsx)("div",{className:"text-sm text-green-600",children:"총 분석 결과"})]})}),(0,a.jsx)(r.Zp,{children:(0,a.jsxs)(r.Wu,{className:"p-4",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-blue-700",children:[B.length>0?Math.round(B.reduce((e,s)=>{var t;return e+(s.result.plantHealth||(null===(t=s.result.analysisData)||void 0===t?void 0:t.plantHealth)||80)},0)/B.length):0,"%"]}),(0,a.jsx)("div",{className:"text-sm text-blue-600",children:"전체 평균 건강도"})]})}),(0,a.jsx)(r.Zp,{children:(0,a.jsxs)(r.Wu,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-700",children:new Set(B.map(e=>e.plantType)).size}),(0,a.jsx)("div",{className:"text-sm text-purple-600",children:"분석 식물 종류"})]})}),(0,a.jsx)(r.Zp,{children:(0,a.jsxs)(r.Wu,{className:"p-4",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-orange-700",children:[B.length>0?Math.round(B.reduce((e,s)=>{var t;return e+(s.result.height||(null===(t=s.result.analysisData)||void 0===t?void 0:t.height)||25)},0)/B.length):0,"cm"]}),(0,a.jsx)("div",{className:"text-sm text-orange-600",children:"전체 평균 키"})]})})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsx)(r.aR,{children:(0,a.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"h-5 w-5"}),"식물 종류별 상세 통계"]})}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries((()=>{let e={};return A.forEach(s=>{let t=B.filter(e=>e.plantType===s.id);if(t.length>0){let a=t.map(e=>{var s;return e.result.plantHealth||(null===(s=e.result.analysisData)||void 0===s?void 0:s.plantHealth)||0}).filter(e=>e>0),l=t.map(e=>{var s;return e.result.height||(null===(s=e.result.analysisData)||void 0===s?void 0:s.height)||0}).filter(e=>e>0);e[s.id]={name:s.name,count:t.length,avgHealth:a.length>0?Math.round(a.reduce((e,s)=>e+s,0)/a.length):0,avgHeight:l.length>0?Math.round(l.reduce((e,s)=>e+s,0)/l.length):0,maxHealth:a.length>0?Math.max(...a):0,minHealth:a.length>0?Math.min(...a):0,maxHeight:l.length>0?Math.max(...l):0,minHeight:l.length>0?Math.min(...l):0,latestDate:t.length>0?t[t.length-1].date:null}}}),e})()).map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"p-4 border rounded-lg bg-gradient-to-br from-green-50 to-emerald-50",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h4",{className:"font-medium text-green-800",children:t.name}),(0,a.jsxs)(i.E,{variant:"outline",className:"text-xs",children:[t.count,"건"]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"평균 건강도:"}),(0,a.jsxs)("span",{className:"font-medium text-blue-600",children:[t.avgHealth,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"평균 키:"}),(0,a.jsxs)("span",{className:"font-medium text-orange-600",children:[t.avgHeight,"cm"]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"건강도 범위:"}),(0,a.jsxs)("span",{className:"font-medium text-gray-700",children:[t.minHealth,"~",t.maxHealth,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"키 범위:"}),(0,a.jsxs)("span",{className:"font-medium text-gray-700",children:[t.minHeight,"~",t.maxHeight,"cm"]})]}),t.latestDate&&(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:["최근 분석: ",new Date(t.latestDate).toLocaleDateString("ko-KR")]})]})]},s)})})})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsx)(r.aR,{children:(0,a.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-5 w-5"}),"필터 및 검색"]})}),(0,a.jsxs)(r.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m.J,{children:"검색"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(f.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,a.jsx)(o.p,{placeholder:"식물 종류, 상태 검색...",value:s,onChange:e=>t(e.target.value),className:"pl-10"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m.J,{children:"식물 종류"}),(0,a.jsxs)(c.l6,{value:N,onValueChange:T,children:[(0,a.jsx)(c.bq,{children:(0,a.jsx)(c.yv,{placeholder:"식물 종류 선택"})}),(0,a.jsxs)(c.gC,{children:[(0,a.jsx)(c.eb,{value:"all",children:"전체"}),A.map(e=>(0,a.jsx)(c.eb,{value:e.id,children:e.name},e.id))]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m.J,{children:"정렬"}),(0,a.jsxs)(c.l6,{value:R,onValueChange:S,children:[(0,a.jsx)(c.bq,{children:(0,a.jsx)(c.yv,{placeholder:"정렬 방식"})}),(0,a.jsxs)(c.gC,{children:[(0,a.jsx)(c.eb,{value:"date-desc",children:"최신순"}),(0,a.jsx)(c.eb,{value:"date-asc",children:"오래된순"}),(0,a.jsx)(c.eb,{value:"health-desc",children:"건강도 높은순"}),(0,a.jsx)(c.eb,{value:"health-asc",children:"건강도 낮은순"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m.J,{children:"선택 관리"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(n.$,{variant:"outline",size:"sm",onClick:W,children:"전체 선택"}),(0,a.jsx)(n.$,{variant:"outline",size:"sm",onClick:$,children:"선택 해제"})]})]})]}),I.length>0&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,a.jsxs)("span",{className:"text-sm text-blue-700",children:[I.length,"개 항목이 선택되었습니다"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(n.$,{onClick:()=>{let s=F.filter(e=>I.includes(e.id));if(0===s.length){alert("내보낼 데이터를 선택해주세요.");return}let t=new Blob(["\uFEFF"+[["날짜","식물 종류","건강도 (%)","키 (cm)","잎 개수","상태"],...s.map(e=>{var s;return[new Date(e.date).toLocaleDateString("ko-KR"),(null===(s=A.find(s=>s.id===e.plantType))||void 0===s?void 0:s.name)||e.plantType,e.result.plantHealth,e.result.height,e.result.leafCount,e.result.condition]})].map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n")],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),l=URL.createObjectURL(t);a.setAttribute("href",l),a.setAttribute("download","분석결과_".concat(null==e?void 0:e.name,"_").concat(new Date().toLocaleDateString("ko-KR").replace(/\./g,""),".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[(0,a.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"내보내기"]}),(0,a.jsxs)(n.$,{onClick:J,variant:"destructive",size:"sm",children:[(0,a.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"삭제"]})]})]})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsx)(r.aR,{children:(0,a.jsxs)(r.ZB,{children:["분석 결과 (",F.length,"건)"]})}),(0,a.jsx)(r.Wu,{children:z?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-4 border-green-200 border-t-green-600 rounded-full animate-spin mx-auto"}),(0,a.jsx)("p",{className:"text-gray-600",children:"분석 결과를 불러오는 중..."})]})}):0===F.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-gray-400 text-lg mb-2",children:"\uD83D\uDCCA"}),(0,a.jsx)("p",{className:"text-gray-600 mb-2",children:"분석 결과가 없습니다"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:s||"all"!==N?"필터 조건을 변경해보세요":"새로운 분석을 시작해보세요"}),(0,a.jsx)(y(),{href:"/analysis",className:"inline-block mt-4",children:(0,a.jsx)(n.$,{variant:"outline",children:"분석하기"})})]}):(0,a.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,a.jsxs)(d.XI,{children:[(0,a.jsx)(d.A0,{children:(0,a.jsxs)(d.Hj,{children:[(0,a.jsx)(d.nd,{className:"w-12",children:(0,a.jsx)("input",{type:"checkbox",checked:F.length>0&&I.length===F.length,onChange:e=>e.target.checked?W():$(),className:"w-4 h-4"})}),(0,a.jsx)(d.nd,{children:"날짜"}),(0,a.jsx)(d.nd,{children:"식물 종류"}),(0,a.jsx)(d.nd,{children:"분석 모델"}),(0,a.jsx)(d.nd,{children:"분석 항목"}),(0,a.jsx)(d.nd,{children:"건강도"}),(0,a.jsx)(d.nd,{children:"상태"}),(0,a.jsx)(d.nd,{children:"환경 데이터"}),(0,a.jsx)(d.nd,{children:"권장사항"})]})}),(0,a.jsx)(d.BF,{children:F.map(e=>{var s,t,l,n;return(0,a.jsxs)(d.Hj,{className:"hover:bg-gray-50",children:[(0,a.jsx)(d.nA,{children:(0,a.jsx)("input",{type:"checkbox",checked:I.includes(e.id),onChange:()=>_(e.id),className:"w-4 h-4"})}),(0,a.jsx)(d.nA,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(j.A,{className:"h-4 w-4 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:new Date(e.date).toLocaleDateString("ko-KR")}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:new Date(e.date).toLocaleTimeString("ko-KR")})]})]})}),(0,a.jsx)(d.nA,{children:(0,a.jsx)(i.E,{variant:"outline",className:"bg-green-50 text-green-700",children:(null===(s=A.find(s=>s.id===e.plantType))||void 0===s?void 0:s.name)||e.plantType})}),(0,a.jsx)(d.nA,{children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(i.E,{variant:"outline",className:"bg-blue-50 text-blue-700",children:e.result.modelId&&H[e.result.modelId]?H[e.result.modelId].name:"레거시 모델"}),e.result.modelId&&H[e.result.modelId]&&(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[H[e.result.modelId].type,H[e.result.modelId].price&&" (".concat(H[e.result.modelId].price,")")]})]})}),(0,a.jsx)(d.nA,{children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-1 max-w-48",children:[null===(t=e.result.selectedAnalysisItems)||void 0===t?void 0:t.slice(0,3).map((e,s)=>(0,a.jsx)(i.E,{variant:"secondary",className:"text-xs",children:D[e]||e.replace(/([A-Z])/g," $1").trim()},s)),((null===(l=e.result.selectedAnalysisItems)||void 0===l?void 0:l.length)||0)>3&&(0,a.jsxs)(i.E,{variant:"secondary",className:"text-xs",children:["+",((null===(n=e.result.selectedAnalysisItems)||void 0===n?void 0:n.length)||0)-3,"개 더"]})]})}),(0,a.jsx)(d.nA,{children:(0,a.jsx)("div",{className:"flex items-center gap-2",children:(()=>{var s;let t=e.result.plantHealth||(null===(s=e.result.analysisData)||void 0===s?void 0:s.plantHealth)||80;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(t>=90?"bg-green-500":t>=70?"bg-yellow-500":"bg-red-500")}),(0,a.jsxs)("span",{className:"font-medium",children:[t,"%"]})]})})()})}),(0,a.jsx)(d.nA,{children:(0,a.jsx)(i.E,{variant:"secondary",className:"bg-green-100 text-green-800",children:e.result.condition})}),(0,a.jsx)(d.nA,{children:(0,a.jsx)(M,{environmentData:e.result.environmentData})}),(0,a.jsx)(d.nA,{children:(0,a.jsxs)("div",{className:"max-w-xs",children:[(0,a.jsx)("p",{className:"text-xs text-gray-600 truncate",children:e.result.recommendations[0]}),e.result.recommendations.length>1&&(0,a.jsxs)("p",{className:"text-xs text-gray-400",children:["+",e.result.recommendations.length-1,"개 더"]})]})})]},e.id)})})]})})})]}),B.length>0&&(0,a.jsxs)(r.Zp,{className:"mt-6",children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"h-5 w-5"}),"식물종류별 성장 평가"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"각 식물 종류별로 평균 건강도, 성장 추이, 분석 횟수를 종합하여 평가합니다."})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.filter(e=>B.some(s=>s.plantType===e.id)).map(e=>{let s=B.filter(s=>s.plantType===e.id),t=s.reduce((e,s)=>{var t;return e+(s.result.plantHealth||(null===(t=s.result.analysisData)||void 0===t?void 0:t.plantHealth)||80)},0)/s.length,l=s.reduce((e,s)=>{var t;return e+(s.result.height||(null===(t=s.result.analysisData)||void 0===t?void 0:t.height)||25)},0)/s.length,n=s.sort((e,s)=>new Date(s.date).getTime()-new Date(e.date).getTime()).slice(0,3),r=n.length>1?(n[0].result.plantHealth||80)-(n[n.length-1].result.plantHealth||80):0,i=((e,s,t)=>{let a=0;if(e>=90?a+=40:e>=80?a+=32:e>=70?a+=24:a+=16,s>5?a+=30:s>0?a+=24:s>-5?a+=18:a+=12,t>=10?a+=30:t>=5?a+=24:t>=3?a+=18:a+=12,a>=85)return{grade:"A+",color:"text-green-600 bg-green-50",description:"매우 우수"};if(a>=75)return{grade:"A",color:"text-green-600 bg-green-50",description:"우수"};if(a>=65)return{grade:"B+",color:"text-blue-600 bg-blue-50",description:"양호"};if(a>=55)return{grade:"B",color:"text-blue-600 bg-blue-50",description:"보통"};if(a>=45)return{grade:"C+",color:"text-yellow-600 bg-yellow-50",description:"주의"};else return{grade:"C",color:"text-red-600 bg-red-50",description:"개선 필요"}})(t,r,s.length);return(0,a.jsxs)("div",{className:"p-4 rounded-lg border-2 ".concat(i.color.includes("green")?"border-green-200":i.color.includes("blue")?"border-blue-200":i.color.includes("yellow")?"border-yellow-200":"border-red-200"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h4",{className:"font-semibold text-lg",children:e.name}),(0,a.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-bold ".concat(i.color),children:i.grade})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"평균 건강도:"}),(0,a.jsxs)("span",{className:"font-medium",children:[t.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"평균 키:"}),(0,a.jsxs)("span",{className:"font-medium",children:[l.toFixed(1),"cm"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"분석 횟수:"}),(0,a.jsxs)("span",{className:"font-medium",children:[s.length,"회"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"건강도 추이:"}),(0,a.jsxs)("span",{className:"font-medium flex items-center gap-1 ".concat(r>0?"text-green-600":r<0?"text-red-600":"text-gray-600"),children:[r>0?"↗️":r<0?"↘️":"→",r>0?"+":"",r.toFixed(1),"%"]})]})]}),(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t",children:[(0,a.jsx)("p",{className:"text-sm font-medium ".concat(i.color.split(" ")[0]),children:i.description}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"A+"===i.grade||"A"===i.grade?"지속적으로 좋은 상태를 유지하고 있습니다.":"B+"===i.grade||"B"===i.grade?"현재 상태가 양호하며 조금 더 세심한 관리가 필요합니다.":"관리 방법을 개선하여 식물 건강도를 높일 필요가 있습니다."})]})]},e.id)})})})]})]})]})}},88482:(e,s,t)=>{"use strict";t.d(s,{Wu:()=>c,ZB:()=>d,Zp:()=>r,aR:()=>i});var a=t(95155),l=t(12115),n=t(53999);let r=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...l})});r.displayName="Card";let i=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...l})});i.displayName="CardHeader";let d=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...l})});d.displayName="CardTitle",l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...l})}).displayName="CardDescription";let c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...l})});c.displayName="CardContent",l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...l})}).displayName="CardFooter"},88524:(e,s,t)=>{"use strict";t.d(s,{A0:()=>i,BF:()=>d,Hj:()=>c,XI:()=>r,nA:()=>m,nd:()=>o});var a=t(95155),l=t(12115),n=t(53999);let r=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:s,className:(0,n.cn)("w-full caption-bottom text-sm",t),...l})})});r.displayName="Table";let i=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("thead",{ref:s,className:(0,n.cn)("[&_tr]:border-b",t),...l})});i.displayName="TableHeader";let d=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("tbody",{ref:s,className:(0,n.cn)("[&_tr:last-child]:border-0",t),...l})});d.displayName="TableBody",l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("tfoot",{ref:s,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...l})}).displayName="TableFooter";let c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("tr",{ref:s,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...l})});c.displayName="TableRow";let o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("th",{ref:s,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...l})});o.displayName="TableHead";let m=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("td",{ref:s,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...l})});m.displayName="TableCell",l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("caption",{ref:s,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",t),...l})}).displayName="TableCaption"},89852:(e,s,t)=>{"use strict";t.d(s,{p:()=>r});var a=t(95155),l=t(12115),n=t(53999);let r=l.forwardRef((e,s)=>{let{className:t,type:l,...r}=e;return(0,a.jsx)("input",{type:l,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r})});r.displayName="Input"},95784:(e,s,t)=>{"use strict";t.d(s,{bq:()=>x,eb:()=>f,gC:()=>p,l6:()=>o,yv:()=>m});var a=t(95155),l=t(12115),n=t(77320),r=t(66474),i=t(47863),d=t(5196),c=t(53999);let o=n.bL;n.YJ;let m=n.WT,x=l.forwardRef((e,s)=>{let{className:t,children:l,...i}=e;return(0,a.jsxs)(n.l9,{ref:s,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...i,children:[l,(0,a.jsx)(n.In,{asChild:!0,children:(0,a.jsx)(r.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=n.l9.displayName;let h=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(n.PP,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...l,children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})});h.displayName=n.PP.displayName;let u=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(n.wn,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...l,children:(0,a.jsx)(r.A,{className:"h-4 w-4"})})});u.displayName=n.wn.displayName;let p=l.forwardRef((e,s)=>{let{className:t,children:l,position:r="popper",...i}=e;return(0,a.jsx)(n.ZL,{children:(0,a.jsxs)(n.UC,{ref:s,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...i,children:[(0,a.jsx)(h,{}),(0,a.jsx)(n.LM,{className:(0,c.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,a.jsx)(u,{})]})})});p.displayName=n.UC.displayName,l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(n.JU,{ref:s,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...l})}).displayName=n.JU.displayName;let f=l.forwardRef((e,s)=>{let{className:t,children:l,...r}=e;return(0,a.jsxs)(n.q7,{ref:s,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.VF,{children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})}),(0,a.jsx)(n.p4,{children:l})]})});f.displayName=n.q7.displayName,l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(n.wv,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",t),...l})}).displayName=n.wv.displayName}},e=>{var s=s=>e(e.s=s);e.O(0,[96,751,358],()=>s(2244)),_N_E=e.O()}]);